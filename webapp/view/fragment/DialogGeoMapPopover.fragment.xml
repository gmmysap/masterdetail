<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:vbm="sap.ui.vbm"
>
    <ResponsivePopover
        showHeader="false"
        contentWidth="50%"
        contentHeight="75%"
        placement="Auto"
        modal="true"
    >
        <Page
            class="sapUiResponsivePadding--header"
            title="{i18n>view.title.geoMapDialog}"
        >
            <vbm:GeoMap
                id="idGeoMap"
                width="100%"
                height="100%"
                mapConfiguration="{mapConfig>/}"
                zoomlevel="{view>/geoMapZoomLevel}"
                initialPosition="{view>/initialLongitude};{view>/initialLatitude};0"
                click="onClickGeoMap"
                enableAnimation="true"
            >
                <vbm:vos>
                    <vbm:Spots
                        posChangeable="true"
                        scaleChangeable="false"
                    >
                        <vbm:items>
                            <vbm:Spot
                                id="Spot"
                                position="{view>/Longitude};{view>/Latitude};0"
                                tooltip="Description"
                                type="Default"
                                text="Position!"
                            />
                        </vbm:items>
                    </vbm:Spots>
                </vbm:vos>
            </vbm:GeoMap>
            <footer>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <Button
                        id="idGeoMapConfirmCoordinates"
                        text="{i18n>view.geoMapDialog.button.geoMapConfirm}"
                        type="Emphasized"
                        visible="{= ${view>/editMode} }"
                        press="onConfirmGeoMapSpot"
                    />
                    <Button
                        id="idGeoMapClose"
                        text="{= ${view>/editMode} ? ${i18n>app.button.cancel} : ${i18n>app.button.close} }"
                        type="Transparent"
                        press="onGeoMapPopoverClose"
                    />
                </OverflowToolbar>
            </footer>
        </Page>
    </ResponsivePopover>
</core:FragmentDefinition>